<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Signing Git Commits with GPG | Tehami's Blog</title><meta name=keywords content="GPG,Git,Security,Github,DevOps,GitOps"><meta name=description content="Overview

Git
Git is a crucial part of every developer’s life. We have come across from the cumbersome and hectic usage of bad old days versioning practice to a centralized and easy to collaborate process with git.
As the versioning became easier and collaboration is on our fingertips, there comes the issue of authenticity of the work contributed by individuals.
The Donkey in Lion’s Skin
We all have heard the The Donkey in Lion’s Skin story. The TLDR is a donkey dressed itself in a lion’s skin. Wherever the donkey went, the other animals and villagers feared him. The villagers and other animals thought that he was a real lion. After some time he became bold. Finally one day some people heard him braying. The people ran after him with sticks, and beat him to death. Hence, the poor donkey paid the price for his foolishness."><meta name=author content="Muhammad Tehami"><link rel=canonical href=http://t3hami.github.io/tech/post_2/><link crossorigin=anonymous href=/assets/css/stylesheet.e1f5c4cae44599655f7ff95195ff89c8cb3adbda94f2b1581a434ab2b4d4e6cf.css integrity="sha256-4fXEyuRFmWVff/lRlf+JyMs629qU8rFYGkNKsrTU5s8=" rel="preload stylesheet" as=style><link rel=icon href=http://t3hami.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://t3hami.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://t3hami.github.io/favicon-32x32.png><link rel=apple-touch-icon href=http://t3hami.github.io/apple-touch-icon.png><link rel=mask-icon href=http://t3hami.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://t3hami.github.io/tech/post_2/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="http://t3hami.github.io/tech/post_2/"><meta property="og:site_name" content="Tehami's Blog"><meta property="og:title" content="Signing Git Commits with GPG"><meta property="og:description" content="Overview Git Git is a crucial part of every developer’s life. We have come across from the cumbersome and hectic usage of bad old days versioning practice to a centralized and easy to collaborate process with git.
As the versioning became easier and collaboration is on our fingertips, there comes the issue of authenticity of the work contributed by individuals.
The Donkey in Lion’s Skin We all have heard the The Donkey in Lion’s Skin story. The TLDR is a donkey dressed itself in a lion’s skin. Wherever the donkey went, the other animals and villagers feared him. The villagers and other animals thought that he was a real lion. After some time he became bold. Finally one day some people heard him braying. The people ran after him with sticks, and beat him to death. Hence, the poor donkey paid the price for his foolishness."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="tech"><meta property="article:published_time" content="2021-02-27T01:48:27+05:00"><meta property="article:modified_time" content="2021-02-27T01:48:27+05:00"><meta property="article:tag" content="GPG"><meta property="article:tag" content="Git"><meta property="article:tag" content="Security"><meta property="article:tag" content="Github"><meta property="article:tag" content="DevOps"><meta property="article:tag" content="GitOps"><meta name=twitter:card content="summary"><meta name=twitter:title content="Signing Git Commits with GPG"><meta name=twitter:description content="Overview

Git
Git is a crucial part of every developer’s life. We have come across from the cumbersome and hectic usage of bad old days versioning practice to a centralized and easy to collaborate process with git.
As the versioning became easier and collaboration is on our fingertips, there comes the issue of authenticity of the work contributed by individuals.
The Donkey in Lion’s Skin
We all have heard the The Donkey in Lion’s Skin story. The TLDR is a donkey dressed itself in a lion’s skin. Wherever the donkey went, the other animals and villagers feared him. The villagers and other animals thought that he was a real lion. After some time he became bold. Finally one day some people heard him braying. The people ran after him with sticks, and beat him to death. Hence, the poor donkey paid the price for his foolishness."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Tech","item":"http://t3hami.github.io/tech/"},{"@type":"ListItem","position":2,"name":"Signing Git Commits with GPG","item":"http://t3hami.github.io/tech/post_2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Signing Git Commits with GPG","name":"Signing Git Commits with GPG","description":"Overview Git Git is a crucial part of every developer’s life. We have come across from the cumbersome and hectic usage of bad old days versioning practice to a centralized and easy to collaborate process with git.\nAs the versioning became easier and collaboration is on our fingertips, there comes the issue of authenticity of the work contributed by individuals.\nThe Donkey in Lion’s Skin We all have heard the The Donkey in Lion’s Skin story. The TLDR is a donkey dressed itself in a lion’s skin. Wherever the donkey went, the other animals and villagers feared him. The villagers and other animals thought that he was a real lion. After some time he became bold. Finally one day some people heard him braying. The people ran after him with sticks, and beat him to death. Hence, the poor donkey paid the price for his foolishness.\n","keywords":["GPG","Git","Security","Github","DevOps","GitOps"],"articleBody":"Overview Git Git is a crucial part of every developer’s life. We have come across from the cumbersome and hectic usage of bad old days versioning practice to a centralized and easy to collaborate process with git.\nAs the versioning became easier and collaboration is on our fingertips, there comes the issue of authenticity of the work contributed by individuals.\nThe Donkey in Lion’s Skin We all have heard the The Donkey in Lion’s Skin story. The TLDR is a donkey dressed itself in a lion’s skin. Wherever the donkey went, the other animals and villagers feared him. The villagers and other animals thought that he was a real lion. After some time he became bold. Finally one day some people heard him braying. The people ran after him with sticks, and beat him to death. Hence, the poor donkey paid the price for his foolishness.\nBut what does the donkey story have to do with git? In git, a single contribution is called a commit which holds all the meta data regarding the work being done and by whom. The user meta data which is name and email address are associated with every commit. The problem with this is that anyone can add any user and email address to commit even if the email doesn’t belong to that user.\nPublic-key cryptography A type of cryptography which uses a pair of keys, a public key and a private key; the two keys have the related in a way that, given the public key, it is computationally infeasible to derive the private key. For connection establishment, public-key cryptography enables different parties to communicate securely without having prior access to a secret key (unlike symmetric key cryptography which only involves one key) that is shared, by using one or more pairs (public key and private key) of cryptographic keys. There are lot of tools which implement public key cryptography. One of them is GPG.\nPGP, OpenPGP, GPG Back in 1990s Phil Zimmermann created a data encryption and decryption computer program called Pretty Good Privacy (PGP) which is currently owned by software security company Symantec. Soon PGP become the de-facto standard in e-mail communication. PGP is a commercial product, and as the opensource software boomed the need for the opensource alternatives to the PGP became inevitable. This gave birth to OpenPGP which is an open source standard that allows PGP to be used in software that is typically free to the public. The term “Open PGP” is often applied to tools, features, or solutions that support open-source PGP encryption technology. GPG is an implementation of the Open PGP standard. The GPG, or GnuPG, stands for GNU Privacy Guard.\nBack To The Terminal Install GPG Install GPG depending on the OS you are using: https://gnupg.org/download/\nAfter the installation, verify that you have it working:\ngpg --version Creating GPG keypair gpg --full-generate-key Now an interactive console will ask some information.\nUse option one (1) RSA and RSA (default), give key size (ideally 4096), set expiry date for example 1y, give your real name and email address and comment (optional).\nAfter this GPG will perform some math behind the key generation which uses some big random prime numbers. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy.\nI use dd(copy files) and rngd(a random number generator) on linux. You can use any program which does a lot of cpu processing and uses hard drive (Chrome included :D). Use following if you are on server which can’t get enough entropy.\nsudo yum install rng-tools sudo systemctl start rngd sudo dd if=/dev/sda of=/dev/zero Now we have our gpg keypair ready to use. Verify that the key is created successfully:\ngpg --list-keys Sign git commit Make sure your name and email in git configuration is same as you have in the gpg key:\ngit config --global user.name \"Your Name\" git config --global user.email \"Your Email\" Create a directory and initialize git:\nmkdir repo cd repo git init Stage a file:\ntouch file git add file Now create a signed commit:\ngit commit -S -m \"My signed commit\" Check the signed commit:\ngit log --show-signature You successfully signed commit with your private GPG key.\nDistributing public GPG key It’s time to distribute your public key so that others will know that the commit was actually signed by your private key.\nGet your public key:\ngpg --export --armor \"Your Email\" Copy the output and go to:\nGithub -\u003e settings -\u003e SSH and GPG keys.\nClick on New GPG Keys button and paste you public key. Click Add GPG key button.\nAfter doing above when you push the code to Github it will show a verified badge against your commit, which shows that this key was actually signed by the corresponding private key of the given public key in Github.\nCaveat When you don’t provide the -S flag in git commit it’ll not sign the commit. If you want to sign every commit without providing the -S flag explicitly, then modify your global git config file as follows:\nOpen git config file from ~/.gitconfig and add following lines in it.\n[commit] gpgsign = true [tag] gpgsign = true You can now use usual git commit to create signed commits.\ngit commit -m \"Signed commit without -S\" Now what? Remember that donkey in lion’s skin. Well we don’t have to worry now :D\nThanks for following along, take a look at GPG cheat sheet I’ve created:\nhttps://github.com/t3hami/GPG-cheat-sheet.git\n","wordCount":"932","inLanguage":"en","datePublished":"2021-02-27T01:48:27+05:00","dateModified":"2021-02-27T01:48:27+05:00","author":{"@type":"Person","name":"Muhammad Tehami"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://t3hami.github.io/tech/post_2/"},"publisher":{"@type":"Organization","name":"Tehami's Blog","logo":{"@type":"ImageObject","url":"http://t3hami.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://t3hami.github.io/ accesskey=h title="Tehami's Blog (Alt + H)">Tehami's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://t3hami.github.io/tech/ title=Tech><span>Tech</span></a></li><li><a href=http://t3hami.github.io/books/ title=Books><span>Books</span></a></li><li><a href=http://t3hami.github.io/travel/ title=Travel><span>Travel</span></a></li><li><a href=http://t3hami.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://t3hami.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://t3hami.github.io/about/ title=About><span>About</span></a></li><li><a href=http://t3hami.github.io/contact/ title=Contact><span>Contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://t3hami.github.io/>Home</a>&nbsp;»&nbsp;<a href=http://t3hami.github.io/tech/>Tech</a></div><h1 class="post-title entry-hint-parent">Signing Git Commits with GPG</h1><div class=post-meta><span title='2021-02-27 01:48:27 +0500 +0500'>February 27, 2021</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Muhammad Tehami</div></header><div class=post-content><h2 id=overview>Overview<a hidden class=anchor aria-hidden=true href=#overview>#</a></h2><p><img alt="Git GPG" loading=lazy src=/images/posts/post_2/git-gpg.jpeg></p><h3 id=git>Git<a hidden class=anchor aria-hidden=true href=#git>#</a></h3><p>Git is a crucial part of every developer’s life. We have come across from the cumbersome and hectic usage of bad old days versioning practice to a centralized and easy to collaborate process with git.</p><p>As the versioning became easier and collaboration is on our fingertips, there comes the issue of authenticity of the work contributed by individuals.</p><h3 id=the-donkey-in-lions-skin>The Donkey in Lion’s Skin<a hidden class=anchor aria-hidden=true href=#the-donkey-in-lions-skin>#</a></h3><p>We all have heard the The Donkey in Lion’s Skin story. The TLDR is a donkey dressed itself in a lion’s skin. Wherever the donkey went, the other animals and villagers feared him. The villagers and other animals thought that he was a real lion. After some time he became bold. Finally one day some people heard him braying. The people ran after him with sticks, and beat him to death. Hence, the poor donkey paid the price for his foolishness.</p><p>But what does the donkey story have to do with git? In git, a single contribution is called a commit which holds all the meta data regarding the work being done and by whom. The user meta data which is name and email address are associated with every commit. The problem with this is that anyone can add any user and email address to commit even if the email doesn’t belong to that user.</p><h3 id=public-key-cryptography>Public-key cryptography<a hidden class=anchor aria-hidden=true href=#public-key-cryptography>#</a></h3><p>A type of cryptography which uses a pair of keys, a public key and a private key; the two keys have the related in a way that, given the public key, it is computationally infeasible to derive the private key. For connection establishment, public-key cryptography enables different parties to communicate securely without having prior access to a secret key (unlike symmetric key cryptography which only involves one key) that is shared, by using one or more pairs (public key and private key) of cryptographic keys. There are lot of tools which implement public key cryptography. One of them is GPG.</p><h3 id=pgp-openpgp-gpg>PGP, OpenPGP, GPG<a hidden class=anchor aria-hidden=true href=#pgp-openpgp-gpg>#</a></h3><p>Back in 1990s Phil Zimmermann created a data encryption and decryption computer program called Pretty Good Privacy (PGP) which is currently owned by software security company Symantec. Soon PGP become the de-facto standard in e-mail communication. PGP is a commercial product, and as the opensource software boomed the need for the opensource alternatives to the PGP became inevitable. This gave birth to OpenPGP which is an open source standard that allows PGP to be used in software that is typically free to the public. The term “Open PGP” is often applied to tools, features, or solutions that support open-source PGP encryption technology. GPG is an implementation of the Open PGP standard. The GPG, or GnuPG, stands for GNU Privacy Guard.</p><p><img alt="Cut the crap meme" loading=lazy src=/images/posts/post_2/cut-the-crap.gif></p><h2 id=back-to-the-terminal>Back To The Terminal<a hidden class=anchor aria-hidden=true href=#back-to-the-terminal>#</a></h2><h3 id=install-gpg>Install GPG<a hidden class=anchor aria-hidden=true href=#install-gpg>#</a></h3><p>Install GPG depending on the OS you are using: <a href=https://gnupg.org/download/>https://gnupg.org/download/</a></p><p>After the installation, verify that you have it working:</p><pre tabindex=0><code>gpg --version
</code></pre><h3 id=creating-gpg-keypair>Creating GPG keypair<a hidden class=anchor aria-hidden=true href=#creating-gpg-keypair>#</a></h3><pre tabindex=0><code>gpg --full-generate-key
</code></pre><p>Now an interactive console will ask some information.</p><p>Use option one (1) RSA and RSA (default), give key size (ideally 4096), set expiry date for example 1y, give your real name and email address and comment (optional).</p><p>After this GPG will perform some math behind the key generation which uses some big random prime numbers. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy.</p><p>I use dd(copy files) and rngd(a random number generator) on linux. You can use any program which does a lot of cpu processing and uses hard drive (Chrome included :D). Use following if you are on server which can’t get enough entropy.</p><pre tabindex=0><code>sudo yum install rng-tools
sudo systemctl start rngd
sudo dd if=/dev/sda of=/dev/zero
</code></pre><p>Now we have our gpg keypair ready to use. Verify that the key is created successfully:</p><pre tabindex=0><code>gpg --list-keys
</code></pre><h3 id=sign-git-commit>Sign git commit<a hidden class=anchor aria-hidden=true href=#sign-git-commit>#</a></h3><p>Make sure your name and email in git configuration is same as you have in the gpg key:</p><pre tabindex=0><code>git config --global user.name &#34;Your Name&#34;
git config --global user.email &#34;Your Email&#34;
</code></pre><p>Create a directory and initialize git:</p><pre tabindex=0><code>mkdir repo
cd repo
git init
</code></pre><p>Stage a file:</p><pre tabindex=0><code>touch file
git add file
</code></pre><p>Now create a signed commit:</p><pre tabindex=0><code>git commit -S -m &#34;My signed commit&#34; 
</code></pre><p>Check the signed commit:</p><pre tabindex=0><code>git log --show-signature
</code></pre><p>You successfully signed commit with your private GPG key.</p><h3 id=distributing-public-gpg-key>Distributing public GPG key<a hidden class=anchor aria-hidden=true href=#distributing-public-gpg-key>#</a></h3><p>It’s time to distribute your public key so that others will know that the commit was actually signed by your private key.</p><p>Get your public key:</p><pre tabindex=0><code>gpg --export --armor &#34;Your Email&#34;
</code></pre><p>Copy the output and go to:</p><p>Github -> settings -> SSH and GPG keys.</p><p>Click on New GPG Keys button and paste you public key. Click Add GPG key button.</p><p>After doing above when you push the code to Github it will show a verified badge against your commit, which shows that this key was actually signed by the corresponding private key of the given public key in Github.</p><h2 id=caveat>Caveat<a hidden class=anchor aria-hidden=true href=#caveat>#</a></h2><p>When you don’t provide the -S flag in git commit it’ll not sign the commit. If you want to sign every commit without providing the -S flag explicitly, then modify your global git config file as follows:</p><p>Open git config file from ~/.gitconfig and add following lines in it.</p><pre tabindex=0><code>[commit]
        gpgsign = true
[tag]
        gpgsign = true
</code></pre><p>You can now use usual git commit to create signed commits.</p><pre tabindex=0><code>git commit -m &#34;Signed commit without -S&#34;
</code></pre><p><img alt="Cartoon meme" loading=lazy src=/images/posts/post_2/not-that-hard.gif></p><h3 id=now-what>Now what?<a hidden class=anchor aria-hidden=true href=#now-what>#</a></h3><p>Remember that donkey in lion’s skin. Well we don’t have to worry now :D</p><p>Thanks for following along, take a look at GPG cheat sheet I’ve created:</p><p><a href=https://github.com/t3hami/GPG-cheat-sheet.git>https://github.com/t3hami/GPG-cheat-sheet.git</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=http://t3hami.github.io/tags/gpg/>GPG</a></li><li><a href=http://t3hami.github.io/tags/git/>Git</a></li><li><a href=http://t3hami.github.io/tags/security/>Security</a></li><li><a href=http://t3hami.github.io/tags/github/>Github</a></li><li><a href=http://t3hami.github.io/tags/devops/>DevOps</a></li><li><a href=http://t3hami.github.io/tags/gitops/>GitOps</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://t3hami.github.io/>Tehami's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>